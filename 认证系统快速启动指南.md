# è®¤è¯ç³»ç»Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨æœåŠ¡å™¨
```bash
python flask_main.py
```

### 3. è®¿é—®ç³»ç»Ÿ
- ä¸»é¡µ: http://localhost:5025
- ç™»å½•é¡µ: http://localhost:5025/login
- æ³¨å†Œé¡µ: http://localhost:5025/register

## ğŸ§ª æµ‹è¯•è®¤è¯ç³»ç»Ÿ

### è¿è¡Œæµ‹è¯•è„šæœ¬
```bash
python test_auth.py
```

### æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤

#### 1. æ³¨å†Œæ–°ç”¨æˆ·
è®¿é—® http://localhost:5025/register
- ç”¨æˆ·å: testuser
- é‚®ç®±: test@example.com
- å¯†ç : Test123!@#
- çœŸå®å§“å: æµ‹è¯•ç”¨æˆ·

#### 2. ç™»å½•ç³»ç»Ÿ
è®¿é—® http://localhost:5025/login
- ç”¨æˆ·å/é‚®ç®±: testuser
- å¯†ç : Test123!@#

#### 3. æŸ¥çœ‹ä¸»é¡µ
ç™»å½•åè®¿é—® http://localhost:5025
- åº”è¯¥çœ‹åˆ°ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºåœ¨å³ä¸Šè§’
- å¯ä»¥ç‚¹å‡»ç”¨æˆ·å¤´åƒæŸ¥çœ‹èœå•

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
ç³»ç»Ÿä½¿ç”¨SQLiteæ•°æ®åº“ï¼Œé¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»ºï¼š
- æ•°æ®åº“æ–‡ä»¶: `eduagent.db`
- è‡ªåŠ¨åˆ›å»ºæ‰€æœ‰å¿…è¦çš„è¡¨

### å®‰å…¨é…ç½®
åœ¨ `config/settings.py` ä¸­ï¼š
```python
SECRET_KEY = "your-secret-key-here"  # ç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹
```

## ğŸ“± åŠŸèƒ½æ¼”ç¤º

### ç”¨æˆ·æ³¨å†Œæµç¨‹
1. è®¿é—®æ³¨å†Œé¡µé¢
2. å¡«å†™ç”¨æˆ·ä¿¡æ¯
3. å®æ—¶å¯†ç å¼ºåº¦éªŒè¯
4. æäº¤æ³¨å†Œ
5. è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ

### ç”¨æˆ·ç™»å½•æµç¨‹
1. è®¿é—®ç™»å½•é¡µé¢
2. è¾“å…¥ç”¨æˆ·å/é‚®ç®±å’Œå¯†ç 
3. å¯é€‰æ‹©"è®°ä½æˆ‘"
4. ç™»å½•æˆåŠŸåè·³è½¬åˆ°ä¸»é¡µ

### ç”¨æˆ·ç•Œé¢
- æœªç™»å½•ï¼šæ˜¾ç¤º"ç™»å½•"å’Œ"æ³¨å†Œ"æŒ‰é’®
- å·²ç™»å½•ï¼šæ˜¾ç¤ºç”¨æˆ·å¤´åƒå’Œç”¨æˆ·å
- ç‚¹å‡»å¤´åƒï¼šæ˜¾ç¤ºç”¨æˆ·èœå•

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„
```
â”œâ”€â”€ models/
â”‚   â””â”€â”€ user.py              # ç”¨æˆ·æ•°æ®æ¨¡å‹
â”œâ”€â”€ services/
â”‚   â””â”€â”€ auth_service.py      # è®¤è¯æœåŠ¡
â”œâ”€â”€ interface/
â”‚   â”œâ”€â”€ auth_routes.py       # è®¤è¯APIè·¯ç”±
â”‚   â””â”€â”€ auth_middleware.py   # è®¤è¯ä¸­é—´ä»¶
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ login.html           # ç™»å½•é¡µé¢
â”‚   â””â”€â”€ register.html        # æ³¨å†Œé¡µé¢
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ auth.css         # è®¤è¯é¡µé¢æ ·å¼
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ auth.js          # è®¤è¯JavaScript
â””â”€â”€ test_auth.py             # æµ‹è¯•è„šæœ¬
```

### APIç«¯ç‚¹
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/profile` - è·å–ç”¨æˆ·èµ„æ–™
- `PUT /api/auth/profile` - æ›´æ–°ç”¨æˆ·èµ„æ–™
- `POST /api/auth/change-password` - ä¿®æ”¹å¯†ç 
- `GET /api/auth/verify` - éªŒè¯ä»¤ç‰Œ

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å™¨å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :5025

# ä½¿ç”¨å…¶ä»–ç«¯å£
python flask_main.py --port 8080
```

#### 2. æ•°æ®åº“é”™è¯¯
```bash
# åˆ é™¤æ•°æ®åº“æ–‡ä»¶é‡æ–°åˆ›å»º
rm eduagent.db
python flask_main.py
```

#### 3. ä¾èµ–å®‰è£…å¤±è´¥
```bash
# å‡çº§pip
pip install --upgrade pip

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --force-reinstall
```

#### 4. å‰ç«¯é¡µé¢æ— æ³•è®¿é—®
- æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ
- ç¡®è®¤ç«¯å£å·æ­£ç¡®
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
python flask_main.py --debug
```

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:5025/api/health
```

### æ•°æ®åº“çŠ¶æ€
```python
# åœ¨Pythonä¸­æ£€æŸ¥æ•°æ®åº“
from models.user import User, db
from interface.flask_app import UniversityFlaskAPI

api = UniversityFlaskAPI()
with api.app.app_context():
    users = User.query.all()
    print(f"ç”¨æˆ·æ•°é‡: {len(users)}")
```

## ğŸ¯ ä¸‹ä¸€æ­¥

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
1. ä¿®æ”¹SECRET_KEY
2. ä½¿ç”¨ç”Ÿäº§æ•°æ®åº“ï¼ˆPostgreSQL/MySQLï¼‰
3. é…ç½®HTTPS
4. è®¾ç½®ç¯å¢ƒå˜é‡
5. å¯ç”¨æ—¥å¿—è®°å½•

### åŠŸèƒ½æ‰©å±•
1. é‚®ç®±éªŒè¯
2. å¯†ç é‡ç½®
3. åŒå› ç´ è®¤è¯
4. ç¤¾äº¤ç™»å½•
5. ç”¨æˆ·è§’è‰²ç®¡ç†

---

**æç¤º**: è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºç³»ç»Ÿï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¯·è¿›è¡Œå……åˆ†çš„å®‰å…¨æµ‹è¯•å’Œé…ç½®ä¼˜åŒ–ã€‚
